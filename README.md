# üîê Contacts REST API –∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∑ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é, –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é email, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –∞–≤–∞—Ç–∞—Ä—ñ–≤ —Ç–∞ rate limiting.

## üöÄ –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
- ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó** - –ø–æ–≤–Ω–∏–π –Ω–∞–±—ñ—Ä –æ–ø–µ—Ä–∞—Ü—ñ–π –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
- üîç **–ü–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤** - –∑–∞ —ñ–º'—è–º, –ø—Ä—ñ–∑–≤–∏—â–µ–º –∞–±–æ email
- üéÇ **–î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ –∑ –î–ù –Ω–∞ –Ω–∞–π–±–ª–∏–∂—á—ñ 7 –¥–Ω—ñ–≤
- üì± **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω—Ç–∞–∫—Ç–∏** - –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –∫–æ–Ω—Ç–∞–∫—Ç–∏

### –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- üîê **JWT —Ç–æ–∫–µ–Ω–∏** - –±–µ–∑–ø–µ—á–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ Bearer —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úâÔ∏è **–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email** - –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ email
- üë§ **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª–µ–º** - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- üì∏ **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—ñ–≤** - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Cloudinary
- üîí **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∞—Ç–∞–∫** - rate limiting –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ñ endpoints

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- ‚ú® **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Pydantic –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- üìö **–ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è** - Swagger UI —Ç–∞ ReDoc
- üê≥ **Docker –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - –ø–æ–≤–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –∑ Docker Compose
- üé≠ **–¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∑ Faker
- üß™ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –ø–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è pytest —Ç–µ—Å—Ç–∞–º–∏
- üìß **Email —Å–µ—Ä–≤—ñ—Å** - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ª–∏—Å—Ç—ñ–≤ —á–µ—Ä–µ–∑ FastAPI-Mail

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Backend Framework
- **FastAPI 0.104+** - —Å—É—á–∞—Å–Ω–∏–π async –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Python
- **SQLAlchemy 2.0+** - ORM –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é async –æ–ø–µ—Ä–∞—Ü—ñ–π
- **PostgreSQL 15** - –Ω–∞–¥—ñ–π–Ω–∞ —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Pydantic 2.0+** - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –∑ type hints
- **Alembic** - –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó —Å—Ö–µ–º–∏ –ë–î

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞
- **python-jose[cryptography]** - JWT —Ç–æ–∫–µ–Ω–∏ –∑ RSA/ECDSA —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
- **passlib[bcrypt]** - –±–µ–∑–ø–µ—á–Ω–µ —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ –∑ adaptive cost
- **slowapi + Redis** - distributed rate limiting –∑ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—é
- **python-multipart** - –æ–±—Ä–æ–±–∫–∞ multipart/form-data –¥–ª—è —Ñ–∞–π–ª—ñ–≤

### –ó–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- **Cloudinary** - cloud-based –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ç–∞ CDN –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
- **FastAPI-Mail** - async –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ email –∑ SMTP –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é
- **Redis 7** - in-memory –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ session store

### DevOps —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Poetry** - modern dependency management –∑ lock —Ñ–∞–π–ª–∞–º–∏
- **pytest + pytest-asyncio** - –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ async –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é
- **httpx** - async HTTP –∫–ª—ñ—î–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
- **Faker** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- **Docker + Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
contacts-api/
‚îú‚îÄ‚îÄ app/                          # üèóÔ∏è –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # FastAPI –¥–æ–¥–∞—Ç–æ–∫ –∑ middleware —Ç–∞ —Ä–æ—É—Ç–µ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ database.py               # SQLAlchemy engine —Ç–∞ session management
‚îÇ   ‚îú‚îÄ‚îÄ models.py                 # –ú–æ–¥–µ–ª—ñ: User, Contact, EmailVerification
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                # Pydantic —Å—Ö–µ–º–∏ –¥–ª—è request/response –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ crud.py                   # Database access layer –∑ user isolation
‚îÇ   ‚îú‚îÄ‚îÄ auth.py                   # JWT —Ç–æ–∫–µ–Ω–∏, dependencies —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ email.py                  # Async email service –∑ HTML templates
‚îÇ   ‚îú‚îÄ‚îÄ cloudinary_service.py     # File upload —Ç–∞ image processing
‚îÇ   ‚îú‚îÄ‚îÄ rate_limiter.py           # SlowAPI –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ middleware
‚îÇ   ‚îî‚îÄ‚îÄ routers/                  # üì° API endpoint —Ä–æ—É—Ç–µ—Ä–∏
‚îÇ       ‚îú‚îÄ‚îÄ auth.py               # Authentication: register, login, profile
‚îÇ       ‚îî‚îÄ‚îÄ contacts.py           # Contact management CRUD operations
‚îú‚îÄ‚îÄ tests/                        # üß™ Comprehensive test suite
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py               # Pytest fixtures, test database setup
‚îÇ   ‚îú‚îÄ‚îÄ test_auth.py              # Authentication flow testing
‚îÇ   ‚îî‚îÄ‚îÄ test_contacts.py          # Contact API endpoint testing
‚îú‚îÄ‚îÄ scripts/                      # üõ†Ô∏è Utility scripts
‚îÇ   ‚îî‚îÄ‚îÄ seed_data.py              # Test data generation with Faker
‚îú‚îÄ‚îÄ alembic/                      # üìà Database migrations
‚îÇ   ‚îú‚îÄ‚îÄ versions/                 # Migration history files
‚îÇ   ‚îú‚îÄ‚îÄ env.py                    # Alembic environment configuration
‚îÇ   ‚îî‚îÄ‚îÄ script.py.mako            # Migration template
‚îú‚îÄ‚îÄ üîß .env.example               # Environment variables template
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml         # Multi-service orchestration
‚îú‚îÄ‚îÄ üì¶ pyproject.toml             # Poetry dependencies and project config
‚îî‚îÄ‚îÄ üìñ README.md                  # Project documentation
```

## üìã –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏
- **Python 3.11+** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 3.12)
- **PostgreSQL 12+** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 15)
- **Redis 6+** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 7)
- **4GB RAM** (–º—ñ–Ω—ñ–º—É–º –¥–ª—è development)
- **Docker 20+ —Ç–∞ Docker Compose 2+** (–¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É)

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- **8GB RAM** –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏
- **SSD –¥–∏—Å–∫** –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ PostgreSQL
- **Poetry 1.6+** –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏

## ‚ö° –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫

### üöÄ –ú–µ—Ç–æ–¥ 1: Docker Compose (–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤)

#### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/your-username/contacts-api.git
cd contacts-api

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å Docker
docker --version
docker-compose --version

# –Ø–∫—â–æ Docker –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π:
# Linux (Ubuntu/Debian): sudo apt update && sudo apt install docker.io docker-compose
# macOS: brew install docker docker-compose
# Windows: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ Docker Desktop –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É
```

#### –ö—Ä–æ–∫ 2: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
cp .env.example .env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ .env —Ñ–∞–π–ª (–û–ë–û–í'–Ø–ó–ö–û–í–û!)
nano .env  # –∞–±–æ code .env –¥–ª—è VS Code

# –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É:
SECRET_KEY=your-super-secret-key-minimum-32-characters-long-please-change-this
MAIL_USERNAME=your-gmail@gmail.com
MAIL_PASSWORD=your-app-specific-password
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
```

#### –ö—Ä–æ–∫ 3: –ó–∞–ø—É—Å–∫ –≤—Å—å–æ–≥–æ —Å—Ç–µ–∫—É
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ
docker-compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose ps

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
docker-compose logs -f web
```

#### –ö—Ä–æ–∫ 4: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
docker-compose exec web python scripts/seed_data.py

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É API
curl http://localhost:8000/health
```

#### –ö—Ä–æ–∫ 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ—ó
```bash
# –í—ñ–¥–∫—Ä–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
open http://localhost:8000/docs

# –ê–±–æ –¥–ª—è Linux
xdg-open http://localhost:8000/docs

# –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (Adminer)
open http://localhost:8080
```

### üõ†Ô∏è –ú–µ—Ç–æ–¥ 2: –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ (–î–ª—è –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤)

#### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Poetry
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Poetry (—è–∫—â–æ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)
curl -sSL https://install.python-poetry.org | python3 -

# –ê–±–æ —á–µ—Ä–µ–∑ pip
pip install poetry

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
poetry --version

# –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Poetry (—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ .venv –≤ –ø—Ä–æ–µ–∫—Ç—ñ)
poetry config virtualenvs.in-project true
```

#### –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/your-username/contacts-api.git
cd contacts-api

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (–≤–∫–ª—é—á–Ω–æ –∑ dev)
poetry install

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø–∞–∫–µ—Ç–∏
poetry show

# –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
poetry shell
```

#### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ PostgreSQL —Ç–∞ Redis —á–µ—Ä–µ–∑ Docker
docker-compose up -d db redis

# –ê–±–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
# PostgreSQL (Ubuntu): sudo apt install postgresql postgresql-contrib
# Redis (Ubuntu): sudo apt install redis-server
# macOS: brew install postgresql redis
```

#### –ö—Ä–æ–∫ 4: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó
```bash
# –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ .env
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ DATABASE_URL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ PostgreSQL

# –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
alembic upgrade head

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î
alembic current
alembic history
```

#### –ö—Ä–æ–∫ 5: –ó–∞–ø—É—Å–∫ development —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑ hot reload
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ Poetry
poetry run uvicorn app.main:app --reload

# –î–ª—è debug —Ä–µ–∂–∏–º—É
uvicorn app.main:app --reload --log-level debug
```

## üîß –î–µ—Ç–∞–ª—å–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (.env —Ñ–∞–π–ª)

```env
# === –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö ===
# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:password@localhost:5432/contacts_db

# === JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è ===
# –ö–†–ò–¢–ò–ß–ù–û: –ó–º—ñ–Ω—ñ—Ç—å —Ü–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ!
SECRET_KEY=your-super-secret-jwt-key-minimum-32-characters-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30

# === Email –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (Gmail) ===
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password  # –ù–ï –∑–≤–∏—á–∞–π–Ω–∏–π –ø–∞—Ä–æ–ª—å!
MAIL_FROM=noreply@contacts-api.com
MAIL_FROM_NAME=Contacts API
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587

# === Cloudinary (–¥–ª—è –∞–≤–∞—Ç–∞—Ä—ñ–≤) ===
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# === Redis (–¥–ª—è rate limiting) ===
REDIS_HOST=localhost
REDIS_PORT=6379

# === CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ===
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com

# === –î–æ–¥–∞—Ç–æ–∫ ===
DEBUG=True                    # False –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
HOST=0.0.0.0
PORT=8000
```

### üìß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Gmail –¥–ª—è email (–û–ë–û–í'–Ø–ó–ö–û–í–û)

1. **–£–≤—ñ–º–∫–Ω—É—Ç–∏ 2FA –≤ Google –∞–∫–∫–∞—É–Ω—Ç—ñ:**
   ```
   Google Account ‚Üí Security ‚Üí 2-Step Verification ‚Üí Turn On
   ```

2. **–°—Ç–≤–æ—Ä–∏—Ç–∏ App Password:**
   ```
   Google Account ‚Üí Security ‚Üí App passwords ‚Üí Select app: Mail
   ‚Üí Select device: Other ‚Üí Enter name: "Contacts API"
   ‚Üí Copy the 16-character password
   ```

3. **–î–æ–¥–∞—Ç–∏ –≤ .env —Ñ–∞–π–ª:**
   ```env
   MAIL_USERNAME=your-real-email@gmail.com
   MAIL_PASSWORD=abcd-efgh-ijkl-mnop  # 16-character app password
   ```

### ‚òÅÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cloudinary (–¥–ª—è –∞–≤–∞—Ç–∞—Ä—ñ–≤)

1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –∞–∫–∫–∞—É–Ω—Ç:**
   ```
   https://cloudinary.com/users/register/free
   ```

2. **–û—Ç—Ä–∏–º–∞—Ç–∏ API –∫–ª—é—á—ñ:**
   ```
   Dashboard ‚Üí Account Details ‚Üí API Keys
   ```

3. **–î–æ–¥–∞—Ç–∏ –≤ .env:**
   ```env
   CLOUDINARY_CLOUD_NAME=your-cloud-name
   CLOUDINARY_API_KEY=123456789012345
   CLOUDINARY_API_SECRET=abcdefghijk-lmnopqrstuvwxyz123
   ```

## üîê –ü–æ–≤–Ω–∏–π workflow –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (–ø–æ–∫—Ä–æ–∫–æ–≤–æ)

### –ö—Ä–æ–∫ 1: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
curl -X POST "http://localhost:8000/api/v1/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "johndoe",
    "email": "john@example.com",
    "password": "securepassword123",
    "first_name": "John",
    "last_name": "Doe"
  }'
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "id": 1,
  "username": "johndoe",
  "email": "john@example.com",
  "first_name": "John",
  "last_name": "Doe",
  "avatar_url": null,
  "is_active": true,
  "is_verified": false,  // –ü–æ—Ç—Ä–µ–±—É—î –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó email
  "created_at": "2024-01-15T10:30:00.123456"
}
```

### –ö—Ä–æ–∫ 2: –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email

```bash
# –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º–∞—î –ª–∏—Å—Ç –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —Ç–∏–ø—É:
# http://localhost:8000/api/v1/auth/verify-email?token=abc123def456

# –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –≤–µ—Ä–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –≤—Ä—É—á–Ω—É:
curl "http://localhost:8000/api/v1/auth/verify-email?token=YOUR_TOKEN_FROM_EMAIL"

# –ê–±–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ª–∏—Å—Ç –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:
curl -X POST "http://localhost:8000/api/v1/auth/resend-verification" \
  -H "Content-Type: application/json" \
  -d '{"email": "john@example.com"}'
```

### –ö—Ä–æ–∫ 3: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è JWT —Ç–æ–∫–µ–Ω–∞

```bash
# –£–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "john@example.com",
    "password": "securepassword123"
  }'
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwiZXhwIjoxNzA1MzE4MjAwfQ.signature",
  "token_type": "bearer"
}
```

### –ö—Ä–æ–∫ 4: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è JWT —Ç–æ–∫–µ–Ω–∞

```bash
# –ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–æ–∫–µ–Ω —É –∑–º—ñ–Ω–Ω—ñ–π
export JWT_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–≤—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å
curl -X GET "http://localhost:8000/api/v1/auth/me" \
  -H "Authorization: Bearer $JWT_TOKEN"

# –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
curl -X PUT "http://localhost:8000/api/v1/auth/me" \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "Johnathan",
    "last_name": "Doe-Smith"
  }'

# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∞–≤–∞—Ç–∞—Ä
curl -X POST "http://localhost:8000/api/v1/auth/me/avatar" \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -F "file=@/path/to/your/avatar.jpg"
```

## üìû –†–æ–±–æ—Ç–∞ –∑ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ (–ø–æ–∫—Ä–æ–∫–æ–≤–æ)

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–µ—Ä—à–∏–π –∫–æ–Ω—Ç–∞–∫—Ç
curl -X POST "http://localhost:8000/api/v1/contacts/" \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "–Ü–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–µ–Ω–∫–æ",
    "email": "ivan.petrenko@example.com",
    "phone": "+380501234567",
    "birthday": "1990-05-15",
    "additional_info": "–ö–æ–ª–µ–≥–∞ –∑ —Ä–æ–±–æ—Ç–∏"
  }'

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç –∑ –Ω–∞–π–±–ª–∏–∂—á–∏–º –¥–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è
curl -X POST "http://localhost:8000/api/v1/contacts/" \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "–ú–∞—Ä—ñ—è",
    "last_name": "–Ü–≤–∞–Ω–µ–Ω–∫–æ",
    "email": "maria@example.com",
    "phone": "+380507654321",
    "birthday": "1995-12-25"
  }'
```

### –ü–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è

```bash
# –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–∞–∫—Ç–∏
curl -H "Authorization: Bearer $JWT_TOKEN" \
  "http://localhost:8000/api/v1/contacts/"

# –ü–æ—à—É–∫ –∑–∞ —ñ–º'—è–º
curl -H "Authorization: Bearer $JWT_TOKEN" \
  "http://localhost:8000/api/v1/contacts/?search=–Ü–≤–∞–Ω"

# –ü–æ—à—É–∫ –∑–∞ email
curl -H "Authorization: Bearer $JWT_TOKEN" \
  "http://localhost:8000/api/v1/contacts/?search=example.com"

# –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ 5, –ø–æ–∫–∞–∑–∞—Ç–∏ 10)
curl -H "Authorization: Bearer $JWT_TOKEN" \
  "http://localhost:8000/api/v1/contacts/?skip=5&limit=10"

# –ù–∞–π–±–ª–∏–∂—á—ñ –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è (7 –¥–Ω—ñ–≤)
curl -H "Authorization: Bearer $JWT_TOKEN" \
  "http://localhost:8000/api/v1/contacts/birthdays"
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è

```bash
# –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç (–ø—Ä–∏–ø—É—Å—Ç–∏–º–æ ID = 1)
curl -X PUT "http://localhost:8000/api/v1/contacts/1" \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "+380509876543",
    "additional_info": "–û–Ω–æ–≤–ª–µ–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–Ω—Ç–∞–∫—Ç"
  }'

# –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∫–æ–Ω—Ç–∞–∫—Ç
curl -H "Authorization: Bearer $JWT_TOKEN" \
  "http://localhost:8000/api/v1/contacts/1"

# –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç
curl -X DELETE "http://localhost:8000/api/v1/contacts/1" \
  -H "Authorization: Bearer $JWT_TOKEN"
```

## üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏
poetry run pytest

# –¢–µ—Å—Ç–∏ –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –≤–∏–≤–æ–¥–æ–º
poetry run pytest -v

# –¢–µ—Å—Ç–∏ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º –∫–æ–¥—É
poetry run pytest --cov=app --cov-report=html

# –¢–µ—Å—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
poetry run pytest tests/test_auth.py -v

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç
poetry run pytest tests/test_auth.py::test_user_registration -v

# –¢–µ—Å—Ç–∏ –∑ live output
poetry run pytest -s
```

### –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Swagger UI

```bash
# –í—ñ–¥–∫—Ä–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
open http://localhost:8000/docs

# –ö—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º:
# 1. –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ POST /api/v1/auth/register
# 2. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Try it out"
# 3. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ Request body
# 4. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Execute"
# 5. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ Response
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Postman

```bash
# –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ Postman –∫–æ–ª–µ–∫—Ü—ñ—é (—è–∫—â–æ —î)
# –ê–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–ª–µ–∫—Ü—ñ—é –∑ endpoints:

# 1. POST {{base_url}}/api/v1/auth/register
# 2. POST {{base_url}}/api/v1/auth/login
# 3. GET {{base_url}}/api/v1/auth/me
# 4. POST {{base_url}}/api/v1/contacts/
# 5. GET {{base_url}}/api/v1/contacts/

# –î–µ {{base_url}} = http://localhost:8000
```

### Health Check —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –û—Å–Ω–æ–≤–Ω–∏–π health check
curl http://localhost:8000/health

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose ps

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏
docker-compose logs web
docker-compose logs db
docker-compose logs redis

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤
docker stats

# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è debugging
docker-compose exec web bash
docker-compose exec db psql -U postgres -d contacts_db
```

## üìä API Endpoints –¥–æ–≤—ñ–¥–Ω–∏–∫

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (`/api/v1/auth`)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å | Auth | Rate Limit |
|-------|----------|------|------|------------|
| `POST` | `/register` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ | ‚ùå | - |
| `POST` | `/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è | ‚ùå | - |
| `GET` | `/verify-email` | –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email | ‚ùå | - |
| `POST` | `/resend-verification` | –ü–æ–≤—Ç–æ—Ä–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó | ‚ùå | - |
| `GET` | `/me` | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—Ñ—ñ–ª—å | ‚úÖ | 10/min |
| `PUT` | `/me` | –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é | ‚úÖ | - |
| `POST` | `/me/avatar` | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∞ | ‚úÖ | - |

### –ö–æ–Ω—Ç–∞–∫—Ç–∏ (`/api/v1/contacts`)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å | Auth | Pagination |
|-------|----------|------|------|------------|
| `POST` | `/` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç | ‚úÖ | - |
| `GET` | `/` | –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ | ‚úÖ | ‚úÖ |
| `GET` | `/{id}` | –ö–æ–Ω—Ç–∞–∫—Ç –∑–∞ ID | ‚úÖ | - |
| `PUT` | `/{id}` | –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç | ‚úÖ | - |
| `DELETE` | `/{id}` | –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç | ‚úÖ | - |
| `GET` | `/birthdays` | –î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è (7 –¥–Ω—ñ–≤) | ‚úÖ | - |

### –°–∏—Å—Ç–µ–º–Ω—ñ endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å |
|-------|----------|------|
| `GET` | `/` | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ API |
| `GET` | `/health` | Health check |
| `GET` | `/docs` | Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è |
| `GET` | `/redoc` | ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è |

## üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —É –ø—Ä–æ–¥–∞–∫—à–Ω

### Docker Production Setup

```bash
# 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ production .env
cp .env.example .env.production

# 2. –ó–º—ñ–Ω–∏—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
DEBUG=False
SECRET_KEY=super-secure-production-key-64-characters-long
DATABASE_URL=postgresql://user:pass@production-db:5432/contacts_db

# 3. –ë—ñ–ª–¥ production –æ–±—Ä–∞–∑—É
docker build -f Dockerfile.prod -t contacts-api:prod .

# 4. –ó–∞–ø—É—Å–∫ –∑ production –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
docker-compose -f docker-compose.prod.yml up -d
```

### Kubernetes deployment

```yaml
# k8s/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: contacts-api
spec:
  replicas: 3
  selector:
    matchLabels:
      app: contacts-api
  template:
    metadata:
      labels:
        app: contacts-api
    spec:
      containers:
      - name: web
        image: contacts-api:prod
        ports:
        - containerPort: 8000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: app-secrets
              key: database-url
```

## üîß Troubleshooting

### –ü–æ—à–∏—Ä–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

#### 1. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –∑–∞–ø—É—â–µ–Ω–∏–π PostgreSQL
docker-compose ps db

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
docker-compose logs db

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ connection string
echo $DATABASE_URL

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å –ë–î
docker-compose restart db
```

#### 2. Email –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Gmail –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
# –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ 2FA —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ App Password

# –¢–µ—Å—Ç email —É –ª–æ–≥–∞—Ö
docker-compose logs web | grep -i mail
```

#### 3. JWT —Ç–æ–∫–µ–Ω–∏ –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ SECRET_KEY
echo $SECRET_KEY

# –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ —Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–∏–π
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç Authorization header:
# "Authorization: Bearer your-jwt-token"
```

#### 4. Rate limiting –±–ª–æ–∫—É—î –∑–∞–ø–∏—Ç–∏
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Redis
docker-compose logs redis

# –û—á–∏—Å—Ç–∏—Ç–∏ rate limit cache
docker-compose exec redis redis-cli FLUSHALL
```

### –õ–æ–≥–∏ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

```bash
# –í—Å—ñ –ª–æ–≥–∏
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
docker-compose logs -f web
docker-compose logs -f db
docker-compose logs -f redis

# –û—Å—Ç–∞–Ω–Ω—ñ 100 —Ä—è–¥–∫—ñ–≤
docker-compose logs --tail=100 web

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤
docker stats $(docker-compose ps -q)
```

## ü§ù –†–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ Contributing

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è dev —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –§–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
git clone https://github.com/YOUR-USERNAME/contacts-api.git
cd contacts-api

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –≥—ñ–ª–∫—É –¥–ª—è —Ñ—ñ—á–µ
git checkout -b feature/new-feature

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ pre-commit hooks
poetry add --group dev pre-commit
poetry run pre-commit install

# –ö–æ–¥ style –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
poetry run black app tests
poetry run isort app tests
poetry run flake8 app tests
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π

```bash
# –ü—ñ—Å–ª—è –∑–º—ñ–Ω–∏ models.py
alembic revision --autogenerate -m "Add new field to Contact model"

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω—É –º—ñ–≥—Ä–∞—Ü—ñ—é
ls alembic/versions/

# –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é
alembic upgrade head

# –í—ñ–¥–∫–∞—Ç –º—ñ–≥—Ä–∞—Ü—ñ—ó
alembic downgrade -1
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö endpoints

```python
# 1. –î–æ–¥–∞—Ç–∏ —Å—Ö–µ–º—É –≤ schemas.py
class NewFeatureSchema(BaseModel):
    name: str
    value: int

# 2. –î–æ–¥–∞—Ç–∏ CRUD —Ñ—É–Ω–∫—Ü—ñ—é –≤ crud.py
def create_feature(db: Session, feature: NewFeatureSchema):
    # Implementation

# 3. –î–æ–¥–∞—Ç–∏ endpoint –≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ä–æ—É—Ç–µ—Ä
@router.post("/features/")
def create_feature_endpoint(
    feature: NewFeatureSchema,
    current_user: User = Depends(get_current_verified_user),
    db: Session = Depends(get_db)
):
    return crud.create_feature(db, feature)

# 4. –î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –≤ tests/
def test_create_feature(authenticated_client):
    # Test implementation
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ø–æ—à–∏—Ä—é—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT. –î–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞ —Å–ø—ñ–ª—å–Ω–æ—Ç–∞

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–≥–∏

1. **GitHub Issues** - [—Å—Ç–≤–æ—Ä–∏—Ç–∏ issue](../../issues/new)
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è** - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [Wiki](../../wiki)
3. **Email –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - andriiS@fcukspammers.com

### –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [SQLAlchemy 2.0 Documentation](https://docs.sqlalchemy.org/en/20/)
- [Pydantic Documentation](https://docs.pydantic.dev/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)

**Happy coding! üöÄ**
