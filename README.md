# üîê Contacts REST API –∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∑ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é, –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é email, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –∞–≤–∞—Ç–∞—Ä—ñ–≤ —Ç–∞ rate limiting.

## üöÄ –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
- ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó** - –ø–æ–≤–Ω–∏–π –Ω–∞–±—ñ—Ä –æ–ø–µ—Ä–∞—Ü—ñ–π –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
- üîç **–ü–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤** - –∑–∞ —ñ–º'—è–º, –ø—Ä—ñ–∑–≤–∏—â–µ–º –∞–±–æ email
- üéÇ **–î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ –∑ –î–ù –Ω–∞ –Ω–∞–π–±–ª–∏–∂—á—ñ 7 –¥–Ω—ñ–≤
- üì± **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω—Ç–∞–∫—Ç–∏** - –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –∫–æ–Ω—Ç–∞–∫—Ç–∏

### –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- üîê **JWT —Ç–æ–∫–µ–Ω–∏** - –±–µ–∑–ø–µ—á–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ Bearer —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úâÔ∏è **–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email** - –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ email
- üë§ **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª–µ–º** - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- üì∏ **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—ñ–≤** - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Cloudinary
- üîí **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∞—Ç–∞–∫** - rate limiting –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ñ endpoints

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- ‚ú® **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Pydantic –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- üìö **–ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è** - Swagger UI —Ç–∞ ReDoc
- üê≥ **Docker –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - –ø–æ–≤–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –∑ Docker Compose
- üé≠ **–¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∑ Faker
- üß™ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –ø–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è pytest —Ç–µ—Å—Ç–∞–º–∏
- üìß **Email —Å–µ—Ä–≤—ñ—Å** - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ª–∏—Å—Ç—ñ–≤ —á–µ—Ä–µ–∑ FastAPI-Mail

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Backend
- **FastAPI 0.104+** - —Å—É—á–∞—Å–Ω–∏–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Python
- **SQLAlchemy 2.0+** - ORM –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- **PostgreSQL** - —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Pydantic 2.0+** - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- **Alembic** - –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞
- **python-jose** - JWT —Ç–æ–∫–µ–Ω–∏ –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
- **passlib + bcrypt** - –±–µ–∑–ø–µ—á–Ω–µ —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- **slowapi + Redis** - rate limiting
- **python-multipart** - –æ–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º —Ç–∞ —Ñ–∞–π–ª—ñ–≤

### –ó–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏
- **Cloudinary** - –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å
- **FastAPI-Mail** - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ email –ª–∏—Å—Ç—ñ–≤
- **Redis** - –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ rate limiting

### –†–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Poetry** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏
- **pytest + httpx** - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
- **Faker** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- **Docker + Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
contacts-api/
‚îú‚îÄ‚îÄ app/                          # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # FastAPI –¥–æ–¥–∞—Ç–æ–∫ –∑ middleware
‚îÇ   ‚îú‚îÄ‚îÄ database.py               # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ models.py                 # –ú–æ–¥–µ–ª—ñ: User, Contact, EmailVerification
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                # Pydantic —Å—Ö–µ–º–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ crud.py                   # CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é
‚îÇ   ‚îú‚îÄ‚îÄ auth.py                   # JWT —Ç–æ–∫–µ–Ω–∏ —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ email.py                  # –°–µ—Ä–≤—ñ—Å –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ email
‚îÇ   ‚îú‚îÄ‚îÄ cloudinary_service.py     # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ rate_limiter.py           # Rate limiting –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îî‚îÄ‚îÄ routers/                  # API —Ä–æ—É—Ç–µ—Ä–∏
‚îÇ       ‚îú‚îÄ‚îÄ auth.py               # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –ª–æ–≥—ñ–Ω, –ø—Ä–æ—Ñ—ñ–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ contacts.py           # CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
‚îú‚îÄ‚îÄ tests/                        # –ü–æ–≤–Ω–µ —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–∫—Ä–∏—Ç—Ç—è
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py               # –§—ñ–∫—Å—Ç—É—Ä–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ test_auth.py              # –¢–µ—Å—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ test_contacts.py          # –¢–µ—Å—Ç–∏ API –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
‚îú‚îÄ‚îÄ scripts/                      # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ seed_data.py              # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ alembic/                      # –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ .env.example                  # –®–∞–±–ª–æ–Ω –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ docker-compose.yml            # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
‚îú‚îÄ‚îÄ pyproject.toml                # Poetry –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ú–µ—Ç–æ–¥ 1: Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

```bash
# 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <repository-url>
cd contacts-api

# 2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏
docker-compose up -d

# 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
docker-compose exec web python scripts/seed_data.py

# 5. –í—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API
open http://localhost:8000/docs
```

### –ú–µ—Ç–æ–¥ 2: –õ–æ–∫–∞–ª—å–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫

```bash
# 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Poetry
curl -sSL https://install.python-poetry.org | python3 -

# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry install

# 3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
cp .env.example .env

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ PostgreSQL —Ç–∞ Redis
docker-compose up -d db redis

# 5. –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
poetry shell

# 6. –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
alembic upgrade head

# 7. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
python scripts/seed_data.py

# 8. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫
uvicorn app.main:app --reload
```

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

### –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

```bash
curl -X POST "http://localhost:8000/api/v1/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "johndoe",
    "email": "john@example.com",
    "password": "securepassword123",
    "first_name": "John",
    "last_name": "Doe"
  }'
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "id": 1,
  "username": "johndoe",
  "email": "john@example.com",
  "first_name": "John",
  "last_name": "Doe",
  "is_verified": false,
  "created_at": "2024-01-15T10:30:00"
}
```

### –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email

–ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º–∞—î –ª–∏—Å—Ç –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:
```
http://localhost:8000/api/v1/auth/verify-email?token=<verification_token>
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (–ª–æ–≥—ñ–Ω)

```bash
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "john@example.com",
    "password": "securepassword123"
  }'
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer"
}
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞

–í—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–ø–∏—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∫–ª—é—á–∞—Ç–∏ JWT —Ç–æ–∫–µ–Ω:

```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø—Ä–æ—Ñ—ñ–ª—å
curl -X GET "http://localhost:8000/api/v1/auth/me" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É
curl -X POST "http://localhost:8000/api/v1/contacts/" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "–Ü–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–µ–Ω–∫–æ",
    "email": "ivan@example.com",
    "phone": "+380501234567",
    "birthday": "1990-05-15"
  }'
```

## üìã API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (`/api/v1/auth`)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å | –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è |
|-------|----------|------|----------------|
| `POST` | `/register` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ | ‚ùå |
| `POST` | `/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è | ‚ùå |
| `GET` | `/verify-email` | –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email | ‚ùå |
| `POST` | `/resend-verification` | –ü–æ–≤—Ç–æ—Ä–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó | ‚ùå |
| `GET` | `/me` | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—Ñ—ñ–ª—å | ‚úÖ |
| `PUT` | `/me` | –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é | ‚úÖ |
| `POST` | `/me/avatar` | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∞ | ‚úÖ |

### –ö–æ–Ω—Ç–∞–∫—Ç–∏ (`/api/v1/contacts`)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å | –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è |
|-------|----------|------|----------------|
| `POST` | `/` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç | ‚úÖ |
| `GET` | `/` | –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ | ‚úÖ |
| `GET` | `/{id}` | –ö–æ–Ω—Ç–∞–∫—Ç –∑–∞ ID | ‚úÖ |
| `PUT` | `/{id}` | –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç | ‚úÖ |
| `DELETE` | `/{id}` | –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç | ‚úÖ |
| `GET` | `/birthdays` | –î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è (7 –¥–Ω—ñ–≤) | ‚úÖ |

### Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è –ø–æ—à—É–∫—É

- `search` - –ø–æ—à—É–∫ –∑–∞ —ñ–º'—è–º, –ø—Ä—ñ–∑–≤–∏—â–µ–º –∞–±–æ email
- `skip` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫—É (–ø–∞–≥—ñ–Ω–∞—Ü—ñ—è)
- `limit` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ (–º–∞–∫—Å. 1000)

## üí° –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü–æ–≤–Ω–∏–π workflow –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

```bash
# 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
REGISTER_RESPONSE=$(curl -s -X POST "http://localhost:8000/api/v1/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "password123",
    "first_name": "Test",
    "last_name": "User"
  }')

# 2. –°–∏–º—É–ª—é–≤–∞—Ç–∏ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—é email (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ - —á–µ—Ä–µ–∑ –ª–∏—Å—Ç)
# curl "http://localhost:8000/api/v1/auth/verify-email?token=<–≤—ñ–¥_email>"

# 3. –õ–æ–≥—ñ–Ω
TOKEN_RESPONSE=$(curl -s -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }')

TOKEN=$(echo $TOKEN_RESPONSE | jq -r '.access_token')

# 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É
curl -X POST "http://localhost:8000/api/v1/contacts/" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "–Ü–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–µ–Ω–∫–æ",
    "email": "ivan@example.com",
    "phone": "+380501234567",
    "birthday": "1990-05-15",
    "additional_info": "–í–∞–∂–ª–∏–≤–∏–π –∫–ª—ñ—î–Ω—Ç"
  }'

# 5. –ü–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
curl "http://localhost:8000/api/v1/contacts/?search=–Ü–≤–∞–Ω" \
  -H "Authorization: Bearer $TOKEN"

# 6. –î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è
curl "http://localhost:8000/api/v1/contacts/birthdays" \
  -H "Authorization: Bearer $TOKEN"
```

### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∞

```bash
curl -X POST "http://localhost:8000/api/v1/auth/me/avatar" \
  -H "Authorization: Bearer $TOKEN" \
  -F "file=@/path/to/avatar.jpg"
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (.env)

```env
# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
DATABASE_URL=postgresql://postgres:password@localhost:5432/contacts_db

# JWT –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
SECRET_KEY=your-super-secret-jwt-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Email –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM=noreply@contacts-api.com
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587

# Cloudinary –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# Redis –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
REDIS_HOST=localhost
REDIS_PORT=6379

# CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# –î–æ–¥–∞—Ç–æ–∫
DEBUG=True
HOST=0.0.0.0
PORT=8000
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Gmail –¥–ª—è email

1. –£–≤—ñ–º–∫–Ω—ñ—Ç—å –¥–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –≤ Gmail
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–æ–¥–∞—Ç–∫—É: https://myaccount.google.com/apppasswords
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ä–æ–ª—å –≤ `MAIL_PASSWORD`

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cloudinary

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –Ω–∞ https://cloudinary.com
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ API –∫–ª—é—á—ñ –∑ Dashboard
3. –î–æ–¥–∞–π—Ç–µ —ó—Ö –¥–æ `.env` —Ñ–∞–π–ª—É

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

```bash
# –í—Å—ñ —Ç–µ—Å—Ç–∏
poetry run pytest

# –ó –ø–æ–∫—Ä–∏—Ç—Ç—è–º –∫–æ–¥—É
poetry run pytest --cov=app --cov-report=html

# –¢–µ—Å—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
poetry run pytest tests/test_auth.py -v

# –¢–µ—Å—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
poetry run pytest tests/test_contacts.py -v
```

### –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# Health check
curl http://localhost:8000/health

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API
open http://localhost:8000/docs

# ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
open http://localhost:8000/redoc
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### Rate Limiting

API –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π rate limiting:
- –ó–∞–≥–∞–ª—å–Ω—ñ endpoints: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –ª—ñ–º—ñ—Ç–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è: 10 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É –¥–ª—è `/auth/me`

### –õ–æ–≥—É–≤–∞–Ω–Ω—è

–î–æ–¥–∞—Ç–æ–∫ –ª–æ–≥—É—î:
- HTTP –∑–∞–ø–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ü–æ–º–∏–ª–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- –ü–æ–º–∏–ª–∫–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –í–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω—ñ –ø–æ–º–∏–ª–∫–∏

## üê≥ Docker —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

### –°–µ—Ä–≤—ñ—Å–∏

- **web** - FastAPI –¥–æ–¥–∞—Ç–æ–∫ (–ø–æ—Ä—Ç 8000)
- **db** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (–ø–æ—Ä—Ç 5432)
- **redis** - Redis –∫–µ—à (–ø–æ—Ä—Ç 6379)
- **adminer** - –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ë–î (–ø–æ—Ä—Ç 8080)

### –ö–æ—Ä–∏—Å–Ω—ñ Docker –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f web

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É
docker-compose restart web

# –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
docker-compose exec web python scripts/seed_data.py

# –û—á–∏—â–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
docker-compose down -v
```

## üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. **–ë–µ–∑–ø–µ–∫–∞:**
   - –ó–º—ñ–Ω—ñ—Ç—å `SECRET_KEY` –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–æ –±–µ–∑–ø–µ—á–Ω–∏–π
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ CORS –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏–ª—å–Ω—ñ –ø–∞—Ä–æ–ª—ñ –¥–ª—è –ë–î

2. **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—Ä–æ–≤–∞–Ω–∏–π PostgreSQL —Å–µ—Ä–≤—ñ—Å
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ñ backup'–∏
   - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

3. **–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ reverse proxy (nginx)
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ load balancing
   - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ç–∞ –ª–æ–≥—ñ–≤

4. **Email —Ç–∞ —Ñ–∞–π–ª–∏:**
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –Ω–∞–¥—ñ–π–Ω–∏–π SMTP —Å–µ—Ä–≤—ñ—Å
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ CDN –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
   - Backup'–∏ —Ñ–∞–π–ª—ñ–≤

## ü§ù –†–æ–∑—Ä–æ–±–∫–∞

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
git clone <repo> && cd contacts-api
poetry install
cp .env.example .env

# –ó–∞–ø—É—Å–∫ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏
docker-compose up -d db redis
poetry shell
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –º—ñ–≥—Ä–∞—Ü—ñ—ó
alembic revision --autogenerate -m "Add new field"

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π
alembic upgrade head

# –í—ñ–¥–∫–∞—Ç –º—ñ–≥—Ä–∞—Ü—ñ—ó
alembic downgrade -1
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–æ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry add package-name

# –î–æ–¥–∞–≤–∞–Ω–Ω—è dev –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry add --group dev package-name
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ø–æ—à–∏—Ä—é—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT.

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [Issues](../../issues) –Ω–∞ GitHub
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π Issue –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –æ–ø–∏—Å–æ–º
3. –ù–∞–¥–∞–π—Ç–µ –ª–æ–≥–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞:** andriiS@fcukspammers.com
